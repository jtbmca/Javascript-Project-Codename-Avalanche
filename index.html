<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Avalanche</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
        <!-- Game UI Overlay -->
        <div class="game-ui" id="gameUI">
            <div class="ui-top">
                <div class="ui-left">
                    <div class="score-display" id="scoreDisplay">Score: 0</div>
                    <div class="level-display" id="levelDisplay">Level: 1</div>
                    <div class="speed-display" id="speedDisplay">Speed: 350</div>
                </div>
                <div class="ui-right">
                    <div class="time-display" id="timeDisplay">Time: 60s</div>
                    <div class="momentum-display" id="momentumDisplay">Momentum: 100%</div>
                </div>
            </div>
            
            <div class="instructions" id="instructionsDisplay">
                <strong>Street Runner</strong><br>
                Avoid pedestrians on the busy street!<br>
                <br>
                <strong>Controls:</strong><br>
                🎮 <strong>Jump:</strong> Tap screen, SPACE key, or 🦘<br>
                ⚡ <strong>Dash:</strong> SHIFT key or 🏃‍♂️<br>
                🚀 <strong>Dash Jump:</strong> Jump right after dashing for mega jump! 🏃‍♂️➕🦘<br>
                🔙 <strong>Menu:</strong> ESC key<br>
                <br>
                <em>💡 Tip: Avoid pedestrians to maintain speed!</em><br>
                <em>🔥 Watch out for the FINAL SPRINT at 80% progress!</em>
            </div> 
            <div class="game-over-screen" id="gameOverScreen">
                <div class="game-over-title">GAME OVER</div>
                <div class="game-over-reason" id="gameOverReason">Time's up!</div>
                <div class="game-over-score" id="gameOverScore">Final Score: 0</div>
                <div class="game-over-controls">
                    <!-- Mobile/Touch Controls -->
                    <button id="gameOverRestartButtonMobile" class="game-over-btn" tabindex="0" aria-label="Restart game">RESTART</button>
                    <button id="gameOverMenuButtonMobile" class="game-over-btn" tabindex="0" aria-label="Return to main menu">MENU</button>
                    <!-- Keyboard Instructions -->
                    <div class="keyboard-instructions" id="gameOverKeyboardInstructions">
                        Press R to restart<br>
                        Press ESC for main menu
                    </div>
                </div> 
            </div>
            <button id="jumpButton" class="jump-btn" tabindex="0" aria-label="Jump">🦘</button> 
            <button id="dashButton" class="dash-btn" tabindex="0" aria-label="Dash">🏃‍♂️</button>
        </div>
        
        <!-- Scripts: Load Phaser first, then utilities and scenes with defer, then main -->
        <script src="./scenes/phaser.min.js"></script>
        <script defer src="./utils/accessibility.js"></script>
        <script defer src="./scenes/sceneswitcher.js"></script>
        <script defer src="./scenes/stage1.js"></script>
        <script defer src="./scenes/tower1.js"></script>
        <script defer src="./scenes/stage2.js"></script>
        <script defer src="main.js"></script>
</body>
</html>